
        <html>
        <head>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <style>
                body { font-family: Arial, sans-serif; background: #36393f; color: white; padding: 20px; }
                .container { background: #2f3136; padding: 15px; border-radius: 8px; }
                .log { background: #202225; padding: 10px; border-radius: 5px; max-height: 300px; overflow-y: auto; }
                .log-entry { font-size: 12px; padding: 5px 0; border-bottom: 1px solid #40444b; }
                .stats { margin-top: 20px; }
                canvas { background: white; border-radius: 8px; }
            </style>
        </head>
        <body>
            <div class="container">
                <h2>Monitor de Trabalho</h2>
                <p><strong>Arquivo atual:</strong> index.css.git</p>
                <p><strong>Tempo de edição:</strong> 00:00:27</p>
                <div class="stats">
                    <p><strong>Tempo total de edição:</strong> 00:23:36</p>
                    <p><strong>Tempo médio por arquivo:</strong> 00:07:52</p>
                </div>
                <canvas id="chart"></canvas>
            </div>
            <div class="log">
                <strong>Atividades Recentes:</strong>
                <div class="log-entry">19:29:10 - Editou: <strong>home.jsx</strong> (00:03:22)</div><div class="log-entry">19:29:39 - Editou: <strong>home.jsx</strong> (00:00:28)</div><div class="log-entry">19:29:49 - Editou: <strong>home.jsx</strong> (00:00:10)</div><div class="log-entry">19:30:31 - Editou: <strong>home.jsx</strong> (00:00:41)</div><div class="log-entry">19:30:56 - Editou: <strong>home.jsx</strong> (00:00:24)</div><div class="log-entry">19:31:06 - Editou: <strong>home.jsx</strong> (00:00:10)</div><div class="log-entry">19:31:32 - Editou: <strong>home.jsx</strong> (00:00:25)</div><div class="log-entry">19:31:49 - Editou: <strong>home.jsx</strong> (00:00:17)</div><div class="log-entry">19:32:02 - Editou: <strong>home.jsx</strong> (00:00:13)</div><div class="log-entry">19:32:25 - Editou: <strong>home.jsx</strong> (00:00:22)</div><div class="log-entry">19:32:43 - Editou: <strong>home.jsx</strong> (00:00:18)</div><div class="log-entry">19:33:03 - Editou: <strong>home.jsx</strong> (00:00:20)</div><div class="log-entry">19:33:10 - Editou: <strong>home.jsx</strong> (00:00:06)</div><div class="log-entry">19:33:31 - Editou: <strong>home.jsx</strong> (00:00:20)</div><div class="log-entry">19:33:57 - Editou: <strong>home.jsx</strong> (00:00:26)</div><div class="log-entry">19:34:08 - Editou: <strong>home.jsx</strong> (00:00:10)</div><div class="log-entry">19:34:26 - Editou: <strong>home.jsx</strong> (00:00:18)</div><div class="log-entry">19:34:34 - Editou: <strong>home.jsx</strong> (00:00:07)</div><div class="log-entry">19:34:47 - Editou: <strong>home.jsx</strong> (00:00:13)</div><div class="log-entry">19:36:09 - Editou: <strong>home.jsx</strong> (00:01:21)</div><div class="log-entry">19:36:26 - Editou: <strong>home.jsx</strong> (00:00:17)</div><div class="log-entry">19:36:59 - Editou: <strong>home.jsx</strong> (00:00:33)</div><div class="log-entry">19:38:13 - Editou: <strong>home.jsx</strong> (00:01:13)</div><div class="log-entry">19:38:40 - Editou: <strong>home.jsx</strong> (00:00:26)</div><div class="log-entry">19:38:51 - Editou: <strong>home.jsx</strong> (00:00:11)</div><div class="log-entry">19:39:08 - Editou: <strong>home.jsx</strong> (00:00:16)</div><div class="log-entry">19:39:29 - Editou: <strong>home.jsx</strong> (00:00:20)</div><div class="log-entry">19:39:45 - Editou: <strong>home.jsx</strong> (00:00:16)</div><div class="log-entry">19:40:04 - Editou: <strong>home.jsx</strong> (00:00:19)</div><div class="log-entry">19:40:20 - Editou: <strong>home.jsx</strong> (00:00:16)</div><div class="log-entry">19:40:32 - Editou: <strong>home.jsx</strong> (00:00:11)</div><div class="log-entry">19:40:40 - Editou: <strong>home.jsx</strong> (00:00:07)</div><div class="log-entry">19:40:48 - Editou: <strong>home.jsx</strong> (00:00:08)</div><div class="log-entry">19:41:03 - Editou: <strong>home.jsx</strong> (00:00:14)</div><div class="log-entry">19:41:21 - Editou: <strong>home.jsx</strong> (00:00:18)</div><div class="log-entry">19:41:34 - Editou: <strong>home.jsx</strong> (00:00:12)</div><div class="log-entry">19:41:46 - Editou: <strong>home.jsx</strong> (00:00:11)</div><div class="log-entry">19:42:03 - Editou: <strong>home.jsx</strong> (00:00:17)</div><div class="log-entry">19:45:28 - Editou: <strong>index.css.git</strong> (00:01:43)</div><div class="log-entry">19:45:41 - Editou: <strong>index.css.git</strong> (00:00:13)</div><div class="log-entry">19:45:51 - Editou: <strong>index.css.git</strong> (00:00:09)</div><div class="log-entry">19:46:11 - Editou: <strong>index.css.git</strong> (00:00:20)</div><div class="log-entry">19:46:26 - Editou: <strong>index.css.git</strong> (00:00:14)</div><div class="log-entry">19:46:36 - Editou: <strong>index.css.git</strong> (00:00:10)</div><div class="log-entry">19:47:29 - Editou: <strong>index.html.git</strong> (00:00:08)</div><div class="log-entry">19:49:09 - Editou: <strong>index.css.git</strong> (00:00:12)</div><div class="log-entry">19:49:25 - Editou: <strong>index.css.git</strong> (00:00:16)</div><div class="log-entry">19:49:32 - Editou: <strong>index.css.git</strong> (00:00:06)</div><div class="log-entry">19:50:41 - Editou: <strong>index.css.git</strong> (00:01:09)</div><div class="log-entry">19:50:59 - Editou: <strong>index.css.git</strong> (00:00:18)</div><div class="log-entry">19:51:11 - Editou: <strong>index.css.git</strong> (00:00:12)</div><div class="log-entry">19:51:37 - Editou: <strong>index.css.git</strong> (00:00:25)</div><div class="log-entry">19:52:47 - Editou: <strong>index.css.git</strong> (00:01:09)</div><div class="log-entry">19:53:05 - Editou: <strong>index.css.git</strong> (00:00:18)</div><div class="log-entry">19:53:16 - Editou: <strong>index.css.git</strong> (00:00:10)</div>
            </div>
            <script>
                function formatChartTime(ms) {
                    const sec = Math.floor(ms / 1000) % 60;
                    const min = Math.floor(ms / (1000 * 60)) % 60;
                    const hours = Math.floor(ms / (1000 * 60 * 60));
                    return `${String(hours).padStart(2, '0')}:${String(min).padStart(2, '0')}:${String(sec).padStart(2, '0')}`;
                }

                window.addEventListener('message', event => {
                    console.log('Dados recebidos:', event.data); // Verifique se os dados estão chegando
                    const data = event.data;
                    const ctx = document.getElementById('chart').getContext('2d');
                    const labels = Object.keys(data.fileDurations).map(file => file.split(/[\/]/).pop());
                    const values = Object.values(data.fileDurations);

                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Tempo de Edição',
                                data: values,
                                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                                borderColor: 'rgba(75, 192, 192, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                tooltip: {
                                    callbacks: {
                                        label: context => formatChartTime(context.raw)
                                    }
                                }
                            }
                        }
                    });
                });
            </script>
        </body>
        </html>
    